---
title: Next.js ë¸”ë¡œê·¸ ì œì‘ê¸° (8)
description: metaíƒœê·¸ ì‚¬ìš©í•˜ê¸°
date: 2024-02-23
thumbnail: /blogImages/image00.webp
category:
  - TypeScript
  - Next.js
series: ë¸”ë¡œê·¸ ì œì‘ê¸°
---

## ì„œë¡ 

ì˜¤ëŠ˜ë„ ë¸”ë¡œê·¸ ê¸€ì´ ì˜ ì˜¬ë¼ê°”ë‚˜ êµ¬ê¸€ ì„œì¹˜ì½˜ì†”ê³¼ ë„¤ì´ë²„ ì„œì¹˜ ì–´ë“œë°”ì´ì €ë¥¼ ì—´ì‹¬íˆ ëŒì•„ë‹¤ë…”ëŠ”ë°, ì´ìƒí•œ ê±¸ ë´ë²„ë ¸ìŠµë‹ˆë‹¤

![report](</blogImages/2024/2024_02/2024_02_23/2024_02_23_(1).webp>)

**meta** íƒœê·¸ê°€ ì´ìƒí•˜ë‹¤ê³ ..? ë‚˜ ì´ê±° ì„¤ì • ì•ˆí–ˆì—ˆë‚˜? í•˜ê³  ë°”ë¡œ ìƒ‰ì¸ëœ ë‚´ìš©ì„ ì°¾ì•„ë³´ëŸ¬ ë„¤ì´ë²„ë¡œ í—ˆë‘¥ì§€ë‘¥ ë‹¬ë ¤ê°”ëŠ”ë°..

![ë°•ì‚´ë‚œ ë©”íƒ€íƒœê·¸](</blogImages/2024/2024_02/2024_02_23/2024_02_23_(2).webp>)

ê·¸ë ‡ìŠµë‹ˆë‹¤.. ì €ëŠ” ì´ ë¸”ë¡œê·¸ ìš´ì˜í•œì§€ ì¢€ ëëŠ”ë° **meta**íƒœê·¸í•˜ê³  **OpenGraph** ì„¸íŒ…ì„ ì•„ì§ í•˜ì§€ ì•Šì•˜ë˜ ê²ƒ ì…ë‹ˆë‹¤..
ì§€ê¸ˆì€ ì˜ ì ìš©ë˜ì–´ìˆê³ , ì˜¤ëŠ˜ì€ ì´ ì—…ë°ì´íŠ¸ ì‚¬í•­ì— ëŒ€í•´ì„œ ì ì–´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë³€ê²½ì 

### Metaíƒœê·¸ì˜ ì ìš©

- [HTML meta íƒœê·¸](https://tcpschool.com/html-tags/meta)

ìš°ì„  metaíƒœê·¸ì— ëŒ€í•´ì„œ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…ì„ í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. metaíƒœê·¸ë€ ê°„ë‹¨í•˜ê²Œ **í•´ë‹¹ í˜ì´ì§€ì— ëŒ€í•œ ì •ë³´**ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
ìš°ë¦¬ëŠ” êµ¬ê¸€, ë„¤ì´ë²„ì™€ ê°™ì€ í¬í„¸ì—ì„œ ê²€ìƒ‰ ê²°ê³¼ë¡œ ìì²´ ì„œë¹„ìŠ¤ëœ ì‚¬ì´íŠ¸ ë§ê³ ë„ ì—¬ëŸ¬ ì‚¬ì´íŠ¸ë¥¼ ë§Œë‚˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ ì‚¬ì´íŠ¸ë¥¼ ì°¾ê²Œë˜ë©´ í•´ë‹¹ ì‚¬ì´íŠ¸ë¥¼ í‘œí˜„í•˜ëŠ” ì œëª©ê³¼ ê·¸ì— ë”°ë¥¸ ì„¤ëª…ì´ ì í˜€ìˆìŠµë‹ˆë‹¤.
í¬í„¸ ì‚¬ì´íŠ¸ì—ì„œ ì–´ë–»ê²Œ í•´ë‹¹ ì‚¬ì´íŠ¸ì— ì •ë³´ë¥¼ ì–»ì„ê¹Œìš”? ìœ„ì˜ ë‚´ìš©ê³¼ í•¨ê»˜ ìƒê°í•´ë³¸ë‹¤ë©´ í¬í„¸ ì‚¬ì´íŠ¸ë“¤ì€ ì‚¬ì´íŠ¸ë“¤ì˜ **meta** íƒœê·¸ë¥¼ í†µí•´ì„œ ìš°ë¦¬ì—ê²Œ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì§ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ì‹¤ì œë¡œë„ ê·¸ë ‡êµ¬ìš”

ê·¸ë ‡ë‹¤ë©´, **Next.js**ì—ì„œëŠ” ì´ meta íƒœê·¸ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ê¹Œìš”?
Next13ë¶€í„° NextëŠ” ê°„ë‹¨í•˜ê²Œ Metadata ê°ì²´ë¥¼ **layout**, **page** ì»´í¬ë„ŒíŠ¸ì—ì„œ export í•´ì¤Œìœ¼ë¡œì¨ í•´ë‹¹ í˜ì´ì§€ì— ëŒ€í•œ metaíƒœê·¸ë¥¼ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ëŠ” ê·¸ ì˜ˆì‹œì…ë‹ˆë‹¤.

```ts showLineNumbers
export const metadata: Metadata = {
  title: 'ì‹ í˜„í˜¸ì˜ ê¸°ìˆ ì„œì¬',
  description: 'í•™ìŠµí•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•©ë‹ˆë‹¤.',
  ...
}

export default function RootLayout() {
    ...
}
```

ì´ëŸ°ì‹ìœ¼ë¡œ ê°„ë‹¨í•˜ê²Œ export í•œë²ˆë§Œ í•´ì£¼ë©´ í•´ë‹¹ í˜ì´ì§€ì— ì •ì ìœ¼ë¡œ metaíƒœê·¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì €ëŠ” ë”± ì—¬ê¸°ê¹Œì§€ë§Œ í•´ì„œ ëª¨ë“  í˜ì´ì§€ì— í•´ë‹¹ ì œëª©ê³¼ ì„¤ëª…ë§Œ ì ìš©ëœ ê²ƒ ì…ë‹ˆë‹¤..

ë”°ë¼ì„œ í•´ë‹¹ ì‘ì—…ì„ ëª¨ë“  í˜ì´ì§€ì— í•´ì¤˜ì•¼í•˜ëŠ”ë°.. ì´ëŸ¬ë©´ í•œ ê°€ì§€ ìƒê°ì´ ë“­ë‹ˆë‹¤.
**ì •ì  í˜ì´ì§€ëŠ” ì´ë ‡ê²Œ í•˜ëŠ”ë° ë™ì ìœ¼ë¡œ ìƒì„±ëœ í˜ì´ì§€ì—ëŠ” ì–´ë–»ê²Œ metaíƒœê·¸ë¥¼ ì ìš©ì‹œì¼œì¤˜ì•¼í•˜ì§€?**

### ë™ì  metaíƒœê·¸ ì ìš©

- [Metadata Object and generateMetadata Options](https://nextjs.org/docs/app/api-reference/functions/generate-metadata)

Next13 ì´ì „ë²„ì „ì—ì„œëŠ” Metaíƒœê·¸ë¥¼ ì–´ë–»ê²Œ ì„¤ì •í–ˆëŠ”ì§€ ì‚¬ì‹¤ì€ ì˜ ëª¨ë¥´ì§€ë§Œ (ì €ëŠ” 13ë²„ì „ë¶€í„° ì¨ì™”ìŠµë‹ˆë‹¤) Next13ë¶€í„°ëŠ” **generateMetadata**ë¥¼ í†µí•´ì„œ ê°„ë‹¨í•˜ê²Œ ì„¤ì •í•´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts showLineNumbers
import { Metadata } from 'next'

// either Static metadata
export const metadata: Metadata = {
  title: '...',
}

// or Dynamic metadata
export async function generateMetadata({ params }) {
  return {
    title: '...',
  }
}
```

ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´ ì´ëŸ°ì‹ìœ¼ë¡œ **generateMetadata**ë¥¼ exportí•´ì£¼ë©´ ê°„ë‹¨í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì¼ë°˜ì ìœ¼ë¡œëŠ” **params**ì™€ **searchParams**ë¥¼ ì‚¬ìš©í•´ì„œ metaíƒœê·¸ë¥¼ ì¬ì„¤ì •í•´ì£¼ë”ë¼êµ¬ìš”.

ì €ë„ paramsë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ í˜ì´ì§€ë“¤ì€ ê°„ë‹¨í•˜ê²Œ ì ìš©ì„ ì‹œì¼œì£¼ì—ˆëŠ”ë°, ë¬¸ì œëŠ” ì œ í¬ìŠ¤íŠ¸ ë‚´ë¶€ í˜ì´ì§€ì˜€ìŠµë‹ˆë‹¤.
ì €ëŠ” paramsì— ê°„ë‹¨í•˜ê²Œ í¬ìŠ¤íŠ¸ì˜ **id**ë§Œ ë„£ì–´ì£¼ê³  ìˆì—ˆê±°ë“ ìš”..

ì¼ë°˜ì ìœ¼ë¡œëŠ” í¬ìŠ¤íŠ¸ì˜ idë¥¼ íŒŒë¼ë¯¸í„°ì— ë„£ì–´ì£¼ê¸°ë³´ë‹¨ ê·¸ëƒ¥ í¬ìŠ¤íŠ¸ì˜ ì œëª©ì„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì£¼ë”ë¼êµ¬ìš”. (ë‹¤ê·¸ëŸ°ê±´ ì•„ë‹™ë‹ˆë‹¤)
ì €ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ê±´ì ¸ì˜¬ê²Œ ì—†ì—ˆê¸°ë•Œë¬¸ì— ë‹¤ë¥¸ ë°©ë²•ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.

ë¨¼ì € ìƒê°í–ˆë˜ ë°©ë²•ì€ **querySelector**ë¡œ íƒ€ì´í‹€ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒ ì´ì—ˆìŠµë‹ˆë‹¤..ë§Œ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
ë°”ë¡œ metaíƒœê·¸ì˜ ìƒì„± ì‹œì ê³¼ html ìš”ì†Œê°€ ìƒì„±ë˜ëŠ” ì‹œì ì€ ë‹¤ë¥´ë‹¤ëŠ” ê²ƒ ì´ì—ˆì£ , metaíƒœê·¸ê°€ ìƒì„±ë  ë•Œì—ëŠ” ì•„ì§ ìš”ì†Œê°€ ëª¨ë‘ ë Œë”ë§ëœê²Œ ì•„ë‹ˆì—ˆë˜ ê²ë‹ˆë‹¤.

ë”°ë¼ì„œ ë‹¤ë¥¸ ë°©ë²•ì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ì–´ë–»ê²Œí•˜ë©´ í¬ìŠ¤íŠ¸ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆì„ê¹Œ? í•˜ê³  ìƒê°í•´ë³´ë‹ˆ ì €ëŠ” **contentlayer**ë¥¼ ì‚¬ìš©í•˜ê³ ìˆì—ˆìŠµë‹ˆë‹¤.
ê·¸ëƒ¥ ê°„ë‹¨í•˜ê²Œ contentlayerë¥¼ ì‚¬ìš©í•´ì„œ ë¡œì§ì„ êµ¬ì„±í•˜ë©´ ë˜ê² ë”ë¼êµ¬ìš”

```ts showLineNumbers
export const getSelectedPostDetail = (id: number) => {
  const selectedPost = getAllPost().find(
    ([idx]) => idx === getAllPostLength() - id
  ) ?? [0, { title: '', description: '', thumbnail: '' }]

  return {
    title: selectedPost[1].title,
    description: selectedPost[1].description,
    thumbnail: selectedPost[1].thumbnail,
  }
}
```

í•˜ì—¬ ì´ëŸ°ì‹ìœ¼ë¡œ **title**, **description**, **thumbnail**ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤. (thumbnailì€ ì´í›„ OpenGraphì—ì„œ ì‚¬ìš©í•©ë‹ˆë‹¤)

![ì ìš©](</blogImages/2024/2024_02/2024_02_23/2024_02_23_(3).webp>)

ì™„ì„±! ì •ìƒ ì ìš©ëœ ëª¨ìŠµì…ë‹ˆë‹¤ ğŸ˜†

## OpenGraphì˜ ì ìš©

- [The Open Graph protocol](https://ogp.me/)

ì´ë²ˆì—ëŠ” **OpenGraph**ì…ë‹ˆë‹¤. OpenGraphë¥¼ ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•´ë³´ìë©´

![ì ìš©](</blogImages/2024/2024_02/2024_02_23/2024_02_23_(4).webp>)

ë§í¬ë¥¼ ì˜¬ë¦¬ë‹ˆ ì•„ë˜ ë¯¸ë¦¬ë³´ê¸°ì— ì‚¬ì§„ê³¼ ì œëª©, ê·¸ë¦¬ê³  ì„¤ëª…ê¹Œì§€ í‘œì‹œë˜ì—ˆì£ ? ì´ê²Œ **OpenGraph**ì…ë‹ˆë‹¤.

ì´ ë˜í•œ Nextjsì—ì„œ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆê³ , ì‚¬ì‹¤ ì•ì—ì„œ ë§í•œ meta ìƒì„±ë²•ì— ëª‡ê°€ì§€ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

```ts showLineNumbers
export const metadata: Metadata = {
  title: 'ì‹ í˜„í˜¸ì˜ ê¸°ìˆ ì„œì¬',
  description: 'í•™ìŠµí•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•©ë‹ˆë‹¤.',
  openGraph: {
    title: 'ì‹ í˜„í˜¸ì˜ ê¸°ìˆ ì„œì¬',
    description: 'í•™ìŠµí•œ ë‚´ìš©ë“¤ì„ ê¸°ë¡í•©ë‹ˆë‹¤.',
    url: 'https://caffhheiene.vercel.app',
    siteName: 'ì‹ í˜„í˜¸ì˜ ê¸°ìˆ ì„œì¬',
    images: [
      {
        url: 'https://caffhheiene.vercel.app/profile/Profile_sunglassed_icon.jpg',
        width: 850,
        height: 600,
        alt: 'ì‹ í˜„í˜¸ì˜ ê¸°ìˆ ì„œì¬',
      },
    ],
    type: 'website',
  },
}
```

**openGraph** í•­ëª©ì— **title**, **description**, **url**, **siteName**, **images**ì™€ ê°™ì€ ì†ì„±ì„ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

### ë™ì  OpenGraph ì ìš©

ì´ì¯¤ë˜ë©´ ë™ì ìœ¼ë¡œ ì ìš©í•˜ëŠ”ê²ƒë„ ê°ì´ ì˜¤ì‹œì£ ?

```ts showLineNumbers
export const generateMetadata = async (
  props: Props,
  parent: ResolvingMetadata
): Promise<Metadata> => {
  const { title, description, thumbnail } = getSelectedPostDetail(
    Number(props.params.id)
  )

  return {
    title,
    description,
    openGraph: {
      ...(await parent).openGraph,
      title,
      description,
      url: `https://caffhheiene.vercel.app/posts/detail/${props.params.id}`,
      images: [
        {
          url: `https://caffhheiene.vercel.app${thumbnail}`,
          width: 850,
          height: 600,
          alt: `${title} / ${description}`,
        },
      ],
    },
  }
}
```

ì´ì „ê³¼ ì¢€ ì°¨ì´ê°€ ìˆë‹¤ë©´ **parent**ì¸ë°, ì´ê±´ **RootLayout**ì—ì„œ ì •ì˜í–ˆë˜ default Metadataë¥¼ ì ìš©í•˜ê² ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

## ëìœ¼ë¡œ

ì²˜ìŒì—ëŠ” ì´ generateMetadataë¥¼ ì–´ë–»ê²Œ ì¨ì•¼í•˜ëŠ”ê±´ì§€ ì¢€ ê°ì´ ì•ˆì™”ëŠ”ë°, ë¬¸ì„œì™€ ì˜ˆì œë¥¼ ì°¾ì•„ë³´ë‹¤ë³´ë‹ˆ ìƒê°ë³´ë‹¤ ì‰½ê²Œ ì ìš©í•  ìˆ˜ ìˆë”ë¼êµ¬ìš”!
ê·¸ëƒ¥ ë‹¨ìˆœí•˜ê²Œ **export**ë§Œ í•´ì£¼ë©´ ë˜ëŠ” ê²ƒì´ë¼ì„œ ë‚œì´ë„ë„ ê·¸ë ‡ê²Œ ë†’ì§€ë„ ì•Šì•˜ìŠµë‹ˆë‹¤!

ì‚¬ì´íŠ¸ê°€ ì˜ êµ´ëŸ¬ê°€ëŠ”ê²ƒ ê°™ì•„ë„ ë´ì£¼ëŠ” ì‚¬ëŒì´ ì—†ìœ¼ë©´ ì•ˆë˜ë‹ˆê¹Œìš” ã… ã… (ì €ëŠ” ì´ë¯¸ ëª‡ë‹¬ë™ì•ˆ ê·¸ë¬ìŒ) ì—¬ëŸ¬ë¶„ë“¤ì€ ê¼­ OpenGraphì™€ Metadata ì„¤ì •í•´ì£¼ì„¸ìš”..

## ì°¸ê³ 

- [[Optimizing] Next ê³µì‹ë¬¸ì„œ ë²ˆì—­ / Optimizing - Metadata / Next Metadata](https://space-rumi.tistory.com/176)
- [Routing and SEO Metadata in Next.js 13](https://www.builder.io/blog/routing-seo-metadata-nextjs-13)
